<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados de Conversión</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div class="container">
    <h1>Resultados de Conversión</h1>

    <div class="parametros">
        <h3>Parámetros usados:</h3>
        <p>
            <strong>xmin:</strong> <span th:text="${xmin}"></span>,
            <strong>xmax:</strong> <span th:text="${xmax}"></span>,
            <strong>L:</strong> <span th:text="${L}"></span>
        </p>
    </div>

    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'generation1')">Generación 1</button>
        <button class="tab-button" onclick="openTab(event, 'generation2')">Generación 2</button>
        <button class="tab-button" onclick="openTab(event, 'generation3')">Generación 3</button>
        <!-- Agrega más botones según las generaciones que tengas -->
    </div>

    <div th:each="table, iter : ${tablas}" class="tab-content" th:id="'generation' + ${iter.index + 1}" th:classappend="${iter.first} ? 'active' : ''">
        <h2 th:text="'Generación ' + ${iter.index + 1}"></h2>

        <div class="table-container">
            <table>
                <thead>
                <tr>
                    <th>Binario</th>
                    <th>Decimal</th>
                    <th>Valor Real</th>
                    <th>Adaptativo</th>
                    <th>Ordenados</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="bin, rowStat : ${table.binaries}">
                    <td th:text="${bin}"></td>
                    <td th:text="${table.decimals[rowStat.index]}"></td>
                    <td th:text="${#numbers.formatDecimal(table.reals[rowStat.index], 0, 3)}"></td>
                    <td th:text="${#numbers.formatDecimal(table.adaptatives[rowStat.index], 0, 3)}"></td>
                    <td th:text="${#numbers.formatDecimal(table.orders[rowStat.index], 0, 3)}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <a href="/" class="back-button">Volver al inicio</a>
</div>

<script>
    function openTab(evt, tabName) {
        const tabContents = document.getElementsByClassName("tab-content");
        const tabButtons = document.getElementsByClassName("tab-button");

        // Oculta todos los contenidos
        for (let i = 0; i < tabContents.length; i++) {
            tabContents[i].classList.remove("active");
        }

        // Desactiva todos los botones
        for (let i = 0; i < tabButtons.length; i++) {
            tabButtons[i].classList.remove("active");
        }

        // Muestra el contenido seleccionado y activa el botón
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.classList.add("active");
    }
</script>
</body>
</html>